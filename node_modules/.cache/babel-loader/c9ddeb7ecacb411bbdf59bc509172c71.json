{"ast":null,"code":"import _classCallCheck from\"/Users/amit/Desktop/Coinbook-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/amit/Desktop/Coinbook-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/Users/amit/Desktop/Coinbook-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/amit/Desktop/Coinbook-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import Card from\"@material-ui/core/Card\";import CardActions from\"@material-ui/core/CardActions\";import CardContent from\"@material-ui/core/CardContent\";import Button from\"@material-ui/core/Button\";import Typography from\"@material-ui/core/Typography\";import\"./Cards.css\";var CustomizedTables=/*#__PURE__*/function(_React$Component){_inherits(CustomizedTables,_React$Component);var _super=_createSuper(CustomizedTables);function CustomizedTables(props){var _this;_classCallCheck(this,CustomizedTables);_this=_super.call(this,props);_this.state={error:null,isLoaded:false,coins:[],currency:_this.props.currency,currency_symbols:_this.props.currency_symbols,currencyUpdated:\"\"};return _this;}_createClass(CustomizedTables,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.setState({currencyUpdated:this.props.currency});fetch(\"https://api.coingecko.com/api/v3/coins/markets?vs_currency=\".concat(this.props.currency,\"&order=market_cap_desc&per_page=50&page=1&sparkline=false\")).then(function(res){return res.json();}).then(function(result){_this2.setState({isLoaded:true,coins:_this2.manageCoins(result)});},function(error){_this2.setState({isLoaded:true,error:error});});}},{key:\"componentWillUpdate\",value:function componentWillUpdate(){var _this3=this;if(this.props.currency!==this.state.currencyUpdated){console.log(\"lol\");this.setState({currencyUpdated:this.props.currency});fetch(\"https://api.coingecko.com/api/v3/coins/markets?vs_currency=\".concat(this.props.currency,\"&order=market_cap_desc&per_page=10&page=1&sparkline=false\")).then(function(res){return res.json();}).then(function(result){_this3.setState({isLoaded:true,coins:_this3.manageCoins(result)});},function(error){_this3.setState({isLoaded:true,error:error});});}else{}}},{key:\"handleUporDown\",value:function handleUporDown(coinChange){if(coinChange>0){return\"Card-up\";}else{return\"Card-down\";}}},{key:\"roundDown\",value:function roundDown(number,decimals){decimals=decimals||0;return Math.floor(number*Math.pow(10,decimals))/Math.pow(10,decimals);}},{key:\"roundDownPrice\",value:function roundDownPrice(number){if(number>=1){var decimals=2;var amount=Math.floor(number*Math.pow(10,decimals))/Math.pow(10,decimals);return amount.toFixed(2).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\");}else{var _decimals=4;return Math.floor(number*Math.pow(10,_decimals))/Math.pow(10,_decimals).toString();}}},{key:\"handleEmoji\",value:function handleEmoji(coinChange){if(coinChange<-10){return/*#__PURE__*/React.createElement(\"span\",{className:\"emojicard\"},\"\\uD83D\\uDC80\");}else if(coinChange<0){return/*#__PURE__*/React.createElement(\"span\",{className:\"emojicard\"},\"\\uD83D\\uDE15\");}else if(coinChange<10){return/*#__PURE__*/React.createElement(\"span\",{className:\"emojicard\"},\"\\uD83D\\uDE03\");}else if(coinChange<20){return/*#__PURE__*/React.createElement(\"span\",{className:\"emojicard\"},\"\\uD83D\\uDE80\");}else if(coinChange>20){return/*#__PURE__*/React.createElement(\"span\",{className:\"emojicard\"},\"\\uD83E\\uDD2F\");}}},{key:\"manageCoins\",value:function manageCoins(coins){var width=window.innerWidth;var coinOrderByPrice=coins.sort(function(a,b){return parseFloat(b.price_change_percentage_24h)-parseFloat(a.price_change_percentage_24h);});if(width>768){return coinOrderByPrice.slice(0,5);}else{return coinOrderByPrice.slice(0,3);}}},{key:\"render\",value:function render(){var _this4=this;var width=window.innerWidth;var _this$state=this.state,error=_this$state.error,isLoaded=_this$state.isLoaded,coins=_this$state.coins,currency_symbols=_this$state.currency_symbols;if(error){return/*#__PURE__*/React.createElement(\"div\",null,\"Error: \",error.message);}else if(!isLoaded){return/*#__PURE__*/React.createElement(\"div\",{class:\"loader\"},\"\\uD83E\\uDE99\");}else{if(width>768){return/*#__PURE__*/React.createElement(\"div\",{class:\"row\"},/*#__PURE__*/React.createElement(\"div\",{class:\"column\"},coins.map(function(coin){return/*#__PURE__*/React.createElement(\"div\",{class:_this4.handleUporDown(coin.price_change_percentage_24h)},/*#__PURE__*/React.createElement(\"p\",{className:\"card-text\"},/*#__PURE__*/React.createElement(\"img\",{className:\"image\",src:coin.image}),coin.name,\" \"),/*#__PURE__*/React.createElement(\"p\",{className:\"card-info\"},_this4.props.currency_symbols[_this4.props.currency.toUpperCase()],_this4.roundDownPrice(coin.current_price),\"\\xA0\\xA0\\xA0\\xA0\",_this4.roundDown(coin.price_change_percentage_24h,2),\" %\"));})));}else{return/*#__PURE__*/React.createElement(React.Fragment,null);}}}}]);return CustomizedTables;}(React.Component);export{CustomizedTables as default};","map":{"version":3,"sources":["/Users/amit/Desktop/Coinbook-master/src/components/Cards/Cards.js"],"names":["React","makeStyles","Card","CardActions","CardContent","Button","Typography","CustomizedTables","props","state","error","isLoaded","coins","currency","currency_symbols","currencyUpdated","setState","fetch","then","res","json","result","manageCoins","console","log","coinChange","number","decimals","Math","floor","pow","amount","toFixed","toString","replace","width","window","innerWidth","coinOrderByPrice","sort","a","b","parseFloat","price_change_percentage_24h","slice","message","map","coin","handleUporDown","image","name","toUpperCase","roundDownPrice","current_price","roundDown","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport \"./Cards.css\";\n\nexport default class CustomizedTables extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      coins: [],\n      currency: this.props.currency,\n      currency_symbols: this.props.currency_symbols,\n      currencyUpdated: \"\",\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      currencyUpdated: this.props.currency,\n    });\n    fetch(\n      `https://api.coingecko.com/api/v3/coins/markets?vs_currency=${this.props.currency}&order=market_cap_desc&per_page=50&page=1&sparkline=false`\n    )\n      .then((res) => res.json())\n      .then(\n        (result) => {\n          this.setState({\n            isLoaded: true,\n            coins: this.manageCoins(result),\n          });\n        },\n\n        (error) => {\n          this.setState({\n            isLoaded: true,\n            error,\n          });\n        }\n      );\n  }\n  componentWillUpdate() {\n    if (this.props.currency !== this.state.currencyUpdated) {\n      console.log(\"lol\");\n      this.setState({\n        currencyUpdated: this.props.currency,\n      });\n      fetch(\n        `https://api.coingecko.com/api/v3/coins/markets?vs_currency=${this.props.currency}&order=market_cap_desc&per_page=10&page=1&sparkline=false`\n      )\n        .then((res) => res.json())\n        .then(\n          (result) => {\n            this.setState({\n              isLoaded: true,\n              coins: this.manageCoins(result),\n            });\n          },\n\n          (error) => {\n            this.setState({\n              isLoaded: true,\n              error,\n            });\n          }\n        );\n    } else {\n    }\n  }\n  handleUporDown(coinChange) {\n    if (coinChange > 0) {\n      return \"Card-up\";\n    } else {\n      return \"Card-down\";\n    }\n  }\n  roundDown(number, decimals) {\n    decimals = decimals || 0;\n    return Math.floor(number * Math.pow(10, decimals)) / Math.pow(10, decimals);\n  }\n  roundDownPrice(number) {\n    if (number >= 1) {\n      const decimals = 2;\n      const amount =\n        Math.floor(number * Math.pow(10, decimals)) / Math.pow(10, decimals);\n      return amount\n        .toFixed(2)\n        .toString()\n        .replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n    } else {\n      const decimals = 4;\n      return (\n        Math.floor(number * Math.pow(10, decimals)) /\n        Math.pow(10, decimals).toString()\n      );\n    }\n  }\n  handleEmoji(coinChange) {\n    if (coinChange < -10) {\n      return <span className=\"emojicard\">💀</span>;\n    } else if (coinChange < 0) {\n      return <span className=\"emojicard\">😕</span>;\n    } else if (coinChange < 10) {\n      return <span className=\"emojicard\">😃</span>;\n    } else if (coinChange < 20) {\n      return <span className=\"emojicard\">🚀</span>;\n    } else if (coinChange > 20) {\n      return <span className=\"emojicard\">🤯</span>;\n    }\n  }\n  manageCoins(coins) {\n    let width = window.innerWidth;\n    const coinOrderByPrice = coins.sort(\n      (a, b) =>\n        parseFloat(b.price_change_percentage_24h) -\n        parseFloat(a.price_change_percentage_24h)\n    );\n    if (width > 768) {\n      return coinOrderByPrice.slice(0, 5);\n    } else {\n      return coinOrderByPrice.slice(0, 3);\n    }\n  }\n\n  render() {\n    let width = window.innerWidth;\n    const { error, isLoaded, coins, currency_symbols } = this.state;\n    if (error) {\n      return <div>Error: {error.message}</div>;\n    } else if (!isLoaded) {\n      return <div class=\"loader\">🪙</div>;\n    } else {\n      if (width > 768) {\n        return (\n          <div class=\"row\">\n            <div class=\"column\">\n              {coins.map((coin) => (\n                <div\n                  class={this.handleUporDown(coin.price_change_percentage_24h)}\n                >\n                  <p className=\"card-text\">\n                    <img className=\"image\" src={coin.image} />\n                    {coin.name}{\" \"}\n                  </p>\n\n                  <p className=\"card-info\">\n                    {\n                      this.props.currency_symbols[\n                        this.props.currency.toUpperCase()\n                      ]\n                    }\n                    {this.roundDownPrice(coin.current_price)}\n                    &nbsp;&nbsp;&nbsp;&nbsp;\n                    {this.roundDown(coin.price_change_percentage_24h, 2)} %\n                  </p>\n                </div>\n              ))}\n            </div>\n          </div>\n        );\n      } else {\n        return <></>;\n      }\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}